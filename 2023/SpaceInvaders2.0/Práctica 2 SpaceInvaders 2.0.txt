Pr谩ctica 2: SpaceInvaders 2.0

---- OBJETIVOS ----


---- FUNCIONALIDADES ----

	路 Los aliens bajan y aumentan su velocidad al llegar al borde.
	路 La partida termina si los aliens llegan a la fila del jugador.

  	路 Disparadores: 30p, Verdes: 20p, Rojos: 10p
	路 La puntuaci贸n se muestra continuamente en la pantalla de juego.

	路 Nodriza: Movimiento r谩pido y aleatorio, pasa por encima de los aliens.
	路 100p
	路 Muerte con animaci贸n.

	路 Guardar: (S + "caracter num茅rico: K"). El archivo se guarda como savedk.txt
	路 Cargar: (L + k). Carga el archivo correspondiente. (Si no existe mostrar error)
	路 Si no se pone la K se cancela la operaci贸n
	路 ELEGIR: pausar mientras se espera el n煤mero o se hace visible la operaci贸n.


---- Recordatorios y dudas ----
	路 驴Qu茅 significa el = 0 de los m茅todos virtuales puros?
		- Si ponemos solo el virtual, el m茅todo es un m茅todo virtual, si ponemos el = 0, el 				m茅todo es virtual puro.
	路 Que significan los diferentes guiones del esquema? 

---- POR HACER ---- 
	路 Pasarle el iterador a los objetos al leer el mapa
	路 Hacer bien la constructora de Mothership
	路 Hacer que todos los aliens tengan el mismo MotherShip aunque se cree despu茅s
	路 Quitar el magic number del mov de los aliens
	路 Quitar el magic number del mov del ca帽on
	路 Cambiar lo de que disparen por rachas
	路 Estar铆a bien un m茅todo "Set numberAliens" o algo as铆

-Colisiones llamadas en:
	路 Update del laser
	路 

---- CLASES NUEVAS ----

	路 Clase GameObject:
		- Reune las funcionalidades comunes 
		- Render
		- Update
		- Save
		- Destructora virtual
		- Puntero al juego

	路 Clase SceneObject: Subclase GameObject de la que descienden las clases de la pr谩ctica 
			anterior
		- Posici贸n del objeto
		- Vida restante del objeto
		- Hit("rect谩ngulo de ataque", origen l谩ser): las subclases implementan y gestionan 
			el m茅todo 
		- Iterador a la lista de objetos en escena (Contador)

	路 Clase ShooterAlien: Hereda de Alien

	路 Clase Mothership: 
		- Coordina el mov de los aliens
		- getDirection
		- shouldMove
			M茅todos de aliens:
		- cannotMove
		- alienDied
			Informan al juego:
		- haveLanded
		- getAlienCount

		COSEJO: Utilizar un enumerado c铆clico "state" y un nivel "level"

	路 Clase Ufo:
		- enum {visible, oculto, destruido}
		- Tiempo aleatorio en oculto

CLASES ANTIGUAS

	路 Clase Alien: 
		- Modificaciones por herencia y nueva clase
		- Puntero a Mothership

	路 Clase Laser: 
		- bool origen -> char/enum color {r, b}
		- laser rojo: pupa aliens
		- laser azul: pupa nave

	路 Clase Game:
		- Lista polim贸rfica de punteros a SceneObject  (de tipo std::list<SceneObject*>)
		- Update, Render... aplican la misma operacion a todos los objetos de la lista
		- A帽adir guardar y cargar partida


LISTA DE OBJETOS DE LA ESCENA Y SU ELIMINACIN

	路 Lista de punteros a todos los objetos de la escena (Tipo SceneObject)
		- Invoca sus m茅todos virtuales (Update, render, save o hit)
		- Estos objetos se crean y se eliminan dinamicamente

	路 Lista enlazada (plantilla list STL)
		- Cada SceneObject tiene un iterador privado a su posici贸n en la lista (tipo plantilla 			list::iterator)

	路 SceneObject: m茅todos
		- setListIterator

	路 Game: m茅todos
		- hasDied

ATAQUES Y COLISIONES ENTRE LSERES Y OBJETOS

	路 Update del l谩ser:
		- Se mueve
		- Llama al m茅todo "damage" de Game
		- Game llama al m茅todo "hit" de todos los objetos en escena
		- Comprueba si colisiona el tipo de l谩ser con el objeto
		- Si se cumplen, el objeto llama al m茅todo "hasDied" de Game
		- Devuelve true al salir de "hit"
		- el l谩ser llama a "hasDied" pas谩ndole su iterador

PARTIDAS GUARDADAS Y CONFIGURACIONES INICIALES

	路 Formato del archivo:
		- Cada l铆nea representa un elemento
		- Cada l铆nea comienza con un n煤mero que identifica su tipo
			|0 = ca帽贸n , vidas, espera     	                  |
			|1 = alien铆gena, subtipo         		  |
			|2 = alien铆gena disparador, subtipo, espera	  |
			|3 = nave nodriza, estado, nivel, espera          |
			|4 = b煤nker             			  |
			|5 = ovni, altura, estado, espera                 |
			|6 = laser, color               		  |
			|7 = puntuaci贸n (Modificar si se hace "infobar")  | 
		- Dos n煤meros para las coordenadas
	路 GameObject: m茅todo "save"
		virtual void save(std::ostream& out) const = 0;

	路 Debe implementarse en cada objeto de juego para guardar su estado

	路 Lectura: Constructores que reciban "std::istream&"

JERARQUA DE EXCEPCIONES

	路 Excepciones irrecuperables:
		- Se capturan en el "main"
		- SDL_ShowSimpleMessageBox

	路 InvadersError: hereda de std::logic_error
		- Constructor
		- M茅todo "what" -> logic_error

	路 SDL_Error: hereda de InvadersError
		- Inicializaci贸n y uso de la SDL
		- SDL_GetError

	路 FileNotFoundError: hereda de InvadersError
		- Fichero no encontrado
		- Nombre del fichero al darse el error

	路 FileFormatError: hereda de InvadersError
		- Lectura de archivo incorrecta
		- Nombre del archivo, n煤mero de l铆nea y mensaje


---- PAUTAS GENERALES OBLIGATORIAS ----

		
	路 C贸digo claro, sin repeticiones y distinciones innecesarias. No abusar de castings ni de 		consultas de tipo en ejecucion

	路 No dejar basura

	路 Atributos privados o protegidos excepci贸n, constantes del juego est谩ticas

	路 Constantes necesarias y sin literales

	路 M茅todos menores de 30-40 l铆neas

	路 C贸digo comentado

---- FUNCIONALIDADES OPCIONALES ----

 	1. Implementar la animaci贸n de los alien铆genas. La textura proporcionada incluye dos 
		variantes para cada tipo de alien铆gena que pueden alternarse secuencialmente.

	2. Implementar el control del ca帽贸n mediante el rat贸n. La pulsaci贸n de cualquiera de los 		botones dispar谩 el ca帽贸n y este se mover谩 a su velocidad habitual hacia la posici贸n 		vertical del rat贸n en la ventana.

	3. Implementa una clase InfoBar cuyo m茅todo render se encarga de mostrar en la ventana SDL 
		una barra de informaci贸n del juego que incluya al menos el n煤mero de vidas restantes
		y la puntuaci贸n actual.

	4. Implementar un soporte primitivo para niveles en el juego, de tal forma que si el jugador 		elimina a todos los alien铆genas se cargue un nuevo mapa para continuar jugando. 
		Los niveles del juego ser铆an una serie de archivos denominados map.txt que el juego 			cargar铆a sucesivamente.

	5. A帽adir un nuevo efecto a la destrucci贸n del OVNI con el que el jugador consiga 			invulnerabilidad por un tiempo limitado. La representaci贸n del ca帽贸n deber铆a ser 
		algo distinta mientras dure el efecto








































 


